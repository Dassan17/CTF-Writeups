import socket
import time
from Crypto.Util.number import long_to_bytes

HOST = '10.81.144.30'
PORT = 7321

username = long_to_bytes(1684630636)
password = long_to_bytes(2457564920124666544827225107428488864802762356)


def read_response(sock):
    data = sock.recv(4096)
    print(f"[Server]: {data.decode().strip()}")

try:
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
        print(f"[*] Connecting to {HOST}:{PORT}...")
        s.connect((HOST, PORT))
        
        time.sleep(1) 
        read_response(s) 
        s.sendall(username)
        

        time.sleep(1)
        read_response(s)
        s.sendall(password)
        
        time.sleep(0.5)
        last_response = read_response(s)

        while True:
            user_input = input("Me > ")
            s.sendall(user_input.encode())
            time.sleep(1) 
            response = read_response(s)

except Exception as e:
    print(f"Error: {e}")